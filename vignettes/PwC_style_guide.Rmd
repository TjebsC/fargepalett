---
title: "PwC style guide"
author: "Thomas Jebsen"
date: "8/27/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introduksjon

Dette dokumentet har som formål å beskrive hvordan figurer som genereres i R bør se ut, formateres og eksporteres.

Innhold:
* Generelle retningslinjer for plott
** Trenger som regel ikke axis text feks.
* Forskjellige type plot
* Hvilke farger og når de skal brukes
* Størrelse på tekst
* 

## Bibliotek
For å ta i bruk fargepaletten og temaet til PwC, benyttes pakken 'fargepalett' som kan lastes installeres fra github:

``` r
remotes::install_github("markusmortensen/fargepalett")
```

For å benytte PwCs tema i ggplot, anbefales det å sette tema globalt i filen du jobber i, som vist i kode-chunken under

```{r setup}
library(tidyverse)
library(fargepalett)
library(ggplot2)

theme_set(theme_pwc())
```

## Generelle retningslinjer for plott

Under følger en stikkordsliste for hvordan plot bør utformes for å holde seg innenfor PwCs stilrammer

* Plottet bør ha hvit bakgrunnsfarge
* Farger på barer og linjer bør følge PwCs farger
* Ved mindre det er viktig å se hvor x-verdier treffer y-verdier, bør man kun ha grid på y-aksen.
* Hvis det tydelig fremkommer av plottet hva akse-verdiene er, trengs ikke akse-overskrifter
* Legend med mindre enn 5 elementer bør plasseres på bunnen av plottet
* ...

### Eksempler på riktig formaterte plott

```{r}

tibble(date = seq(as.Date("2021-01-01"), length.out = 365, by = "day"),
       values = 1/(365:1)^0.1) %>% 
  ggplot(aes(x = date, y = values)) +
  geom_line(color = pwc_cols("orange"), size = 1) +
  scale_y_continuous(labels = scales::percent, limits = c(0, 1)) +
  theme(
    axis.title.x = element_blank(),
    axis.title.y = element_blank()
  ) + ggtitle("Value added over the project period")

```

```{r}
mpg %>% ggplot(aes(x = displ, fill = class)) +
  geom_bar(color = "white", size = 0.25) +
  scale_fill_pwc_d(palette = "pwc_palette2_expanded") +
  theme(
    legend.position = "bottom",
    legend.margin = margin(t = -0.5, unit = "cm")
  ) + 
  scale_y_continuous(expand = expansion()) +
  labs(y = "Number of cars", title = "Engine displacement in liters by class of car", x = "", fill = "")
```















